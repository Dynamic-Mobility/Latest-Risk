(this["webpackJsonprisk-solve"]=this["webpackJsonprisk-solve"]||[]).push([[17],{1790:function(e,t,a){"use strict";a.d(t,"i",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"l",(function(){return m})),a.d(t,"h",(function(){return f})),a.d(t,"a",(function(){return v})),a.d(t,"k",(function(){return E})),a.d(t,"j",(function(){return h})),a.d(t,"g",(function(){return b})),a.d(t,"f",(function(){return w})),a.d(t,"c",(function(){return O})),a.d(t,"m",(function(){return S})),a.d(t,"d",(function(){return y})),a.d(t,"e",(function(){return T}));var n=a(18),r=a(51),c=a.n(r),o=a(81),i=a(38),l=a(55),u=a(43),s=a(86),d=function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t),e.next=3,a.get("".concat(u.b.FETCH_LEGAL)).then((function(e){e.status===u.c.STATUS_OK&&t({type:i.a.LEGAL.GET_ALL,payload:e.data})})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t){return function(){var a=Object(o.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(u.b.CREATE_LEGAL),e).then((function(a){var r;a.status===u.c.STATUS_OK&&(n(Object(l.c)("Legal Compliance Created Successfully!")),e.id=null===(r=a.data)||void 0===r?void 0:r.id,n({type:i.a.LEGAL.ADD_ONE,payload:e}),t());console.log(a)})).catch((function(e){var t;void 0!==e.response.status?e.response.status===u.c.BAD_REQUEST&&n(Object(l.a)(null===(t=e.response.data.errors)||void 0===t?void 0:t.Name[0])):n(Object(l.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},m=function(e,t){return function(){var a=Object(o.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(u.b.UPDATE_LEGAL),e).then((function(a){a.status===u.c.STATUS_OK&&(n(Object(l.c)("Compliance Updated Successfully!")),n({type:i.a.LEGAL.UPDATE_ONE,payload:e}),t())})).catch((function(e){var t,a;void 0!==(null===(t=e.response)||void 0===t?void 0:t.status)?e.response.status===u.c.BAD_REQUEST&&n(Object(l.a)(null===(a=e.response.data.errors)||void 0===a?void 0:a.Name[0])):n(Object(l.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},f=function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t),e.next=3,a.get("".concat(u.b.FETCH_ENTERPRISE)).then((function(e){e.status===u.c.STATUS_OK&&t({type:i.a.ENTERPRISE.GET_ALL,payload:e.data})})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(e,t){return function(){var a=Object(o.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(u.b.CREATE_ENTERPRISE),e).then((function(a){var r;a.status===u.c.STATUS_OK&&(n(Object(l.c)("Enterprise Compliance Created Successfully!")),e.id=null===(r=a.data)||void 0===r?void 0:r.id,n({type:i.a.ENTERPRISE.ADD_ONE,payload:e}),t())})).catch((function(e){var t;void 0!==e.response.status?e.response.status===u.c.BAD_REQUEST&&n(Object(l.a)(null===(t=e.response.data.errors)||void 0===t?void 0:t.Name[0])):n(Object(l.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},E=function(e,t){return function(){var a=Object(o.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(u.b.UPDATE_ENTERPRISE),e).then((function(a){a.status===u.c.STATUS_OK&&(n(Object(l.c)("Compliance Updated Successfully!")),n({type:i.a.ENTERPRISE.UPDATE_ONE,payload:e}),t())})).catch((function(e){var t,a;void 0!==(null===(t=e.response)||void 0===t?void 0:t.status)?e.response.status===u.c.BAD_REQUEST&&n(Object(l.a)(null===(a=e.response.data.errors)||void 0===a?void 0:a.Name[0])):n(Object(l.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},h=function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t),e.next=3,a.get("".concat(u.b.FETCH_STATUTORY)).then((function(e){e.status===u.c.STATUS_OK&&t({type:i.a.STATUTORY.GET_ALL,payload:e.data})})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t),e.next=3,a.get("".concat(u.b.FETCH_COMPLIANCES)).then((function(e){var a=e.data,r=[];a.length>0&&a.map((function(e){return r.push(Object(n.a)({},e.compliance))})),e.status===u.c.STATUS_OK&&t({type:i.a.STATUTORY.GET_COMPLIANCES,payload:r})})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t),e.next=3,a.get("".concat(u.b.FETCH_APPROVALS)).then((function(e){var a=e.data,r=[];a.length>0&&a.map((function(e){return r.push(Object(n.a)({},e.compliance))})),e.status===u.c.STATUS_OK&&t({type:i.a.STATUTORY.GET_APPROVALS,payload:r})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(e,t){return function(){var a=Object(o.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(u.b.CREATE_STATUTORY),e).then((function(a){var r;a.status===u.c.STATUS_OK&&(n(Object(l.c)("Statutory Compliance Created Successfully!")),e.id=null===(r=a.data)||void 0===r?void 0:r.id,n({type:i.a.STATUTORY.ADD_ONE,payload:e}),t())})).catch((function(e){var t;void 0!==e.response.status?e.response.status===u.c.BAD_REQUEST&&n(Object(l.a)(null===(t=e.response.data.errors)||void 0===t?void 0:t.Name[0])):n(Object(l.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},S=function(e,t){return function(){var a=Object(o.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(u.b.UPDATE_STATUTORY),e).then((function(a){a.status===u.c.STATUS_OK&&(n(Object(l.c)("Compliance Updated Successfully!")),n({type:i.a.STATUTORY.UPDATE_ONE,payload:e}),t())})).catch((function(e){var t,a;void 0!==(null===(t=e.response)||void 0===t?void 0:t.status)?e.response.status===u.c.BAD_REQUEST&&n(Object(l.a)(null===(a=e.response.data.errors)||void 0===a?void 0:a.Name[0])):n(Object(l.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(a),t.next=3,n.post("".concat(u.b.APPROVE_COMPLIANCE),e).then((function(e){var t;e.data.success?a(Object(l.c)("Compliance Approved Successfully!")):a(Object(l.a)(null!==(t=e.data.message)&&void 0!==t?t:"Ann error occured try again later!"))})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(a),t.next=3,n.post("".concat(u.b.COMPLY_COMPLIANCE),e).then((function(e){var t;e.data.success?a(Object(l.c)("Complied Successfully!")):a(Object(l.a)(null!==(t=e.data.message)&&void 0!==t?t:"Ann error occured try again later!"))})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},1871:function(e,t,a){"use strict";a.r(t),a.d(t,"Approvals",(function(){return g}));var n=a(33),r=a(0),c=a.n(r),o=a(1651),i=a(60),l=a(1790),u=a(1744),s=a(1746),d=a(1760),p=a(517),m=a(31),f=a(1787),v=a(199),E=a(215),h=a(1739),b=a(1740),w=a(1741),O=a(1742),S=a(200),y=a(92);function T(e){var t=e.data,a=Object(i.d)(),r=c.a.useState(!1),m=Object(n.a)(r,2),f=m[0],v=m[1],E=function(){v(!1)};return c.a.createElement("div",null,c.a.createElement(o.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){v(!0)}},"Approve"),c.a.createElement(u.a,{open:f,onClose:E,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(s.a,null,c.a.createElement(d.a,{id:"alert-dialog-description"},c.a.createElement("p",null,"Are you sure you want to proceed?")),c.a.createElement(p.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-around"}},c.a.createElement(o.a,{onClick:E,variant:"outlined",color:"primary"},"Decline"),c.a.createElement(o.a,{onClick:function(){return function(e){var t={id:e.id};a(Object(l.d)(t))}(t)},variant:"contained",color:"primary",autoFocus:!0},"Confirm")))))}var g=function(e){Object(E.a)();var t=Object(i.d)(),a=Object(i.e)((function(e){return e.compliance})).statutoryComplianceApprovals;Object(r.useEffect)((function(){t(Object(l.f)())}),[]),console.log(a);e.breadCrumbsTitle,e.setOpenDialog;var n=e.onViewCompliance,o=e.onUpdateCompliance,u=e.onDeleteCompliance;var s=function(e){return function(e){var t=[{action:"view",label:"View",icon:c.a.createElement(h.a,null)},{action:"edit",label:"Edit",icon:c.a.createElement(b.a,null)}];return t.push({action:"delete",label:"Delete",icon:c.a.createElement(w.a,null)}),t}()};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.DataGrid,{dataSource:a,showRowLines:!0,showBorders:!0,columnAutoWidth:!0,defaultExpandedRowKeys:[1],keyExpr:"id",parentIdExpr:"mainId"},c.a.createElement(m.Selection,{mode:"single"}),c.a.createElement(m.SearchPanel,{visible:!0}),c.a.createElement(m.FilterRow,{visible:!0}),c.a.createElement(m.FilterPanel,{visible:!0}),c.a.createElement(m.HeaderFilter,{visible:!0}),c.a.createElement(m.Column,{width:150,allowHeaderFiltering:!0,allowSearch:!0,cellRender:function(e){var t=e.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(T,{data:t}))},allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"title",width:150,caption:"Obligation Title",allowHeaderFiltering:!0,allowSearch:!0,cellRender:function(e){var t=e.data,a=e.displayValue;return c.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),n(t)}},a)},allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"complianceStatus",width:150,caption:"Compliance Status",allowHeaderFiltering:!0,allowSearch:!0,cellRender:function(e){var t=e.displayValue,a=Object(y.e)(t);return c.a.createElement(f.a,{style:{color:a.color,borderColor:a.color},size:"small",variant:"outlined",label:a.label})},allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"description",width:200,encodeHtml:!1,caption:"Obligation Description",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"active",minWidth:100,caption:"Status",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1,allowHiding:!0,cellRender:function(e){var t=e.displayValue,a=Object(y.b)(t);return c.a.createElement(f.a,{style:{color:a.color,borderColor:a.color},size:"small",variant:"outlined",label:a.label})}}),c.a.createElement(m.Column,{dataField:"authority",minWidth:100,caption:"Authority",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"companyName",minWidth:100,caption:"Company",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"organization",minWidth:100,caption:"Department",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1,cellRender:function(e){var t=e.displayValue;return null===t||void 0===t?void 0:t.map((function(e,t){return c.a.createElement("span",{key:t},e.departmentName)}))}}),c.a.createElement(m.Column,{dataField:"organization",minWidth:100,caption:"Section",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1,cellRender:function(e){var t=e.displayValue;return null===t||void 0===t?void 0:t.map((function(e,t){return c.a.createElement("span",{key:t},e.sectionName)}))}}),c.a.createElement(m.Column,{dataField:"organization",minWidth:100,caption:"Sub-Section",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1,cellRender:function(e){var t=e.displayValue;return null===t||void 0===t?void 0:t.map((function(e,t){return c.a.createElement("span",{key:t},e.subSectionName)}))}}),c.a.createElement(m.Column,{dataField:"penalty",minWidth:100,caption:"Penalty",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"primaryOwnerName",minWidth:100,caption:"Primary Owner"}),c.a.createElement(m.Column,{dataField:"secondaryOwnerName",minWidth:100,caption:"Secondary Owner",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"escalationOwnerName",minWidth:100,caption:"Escalation Person",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"priority",minWidth:100,caption:"Priority",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"frequency",minWidth:100,caption:"Frequency",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"submissionDeadline",minWidth:100,caption:"Submission Deadline",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),c.a.createElement(m.Column,{dataField:"sourceDoc",minWidth:100,visible:!1,caption:"Source Document",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),c.a.createElement(m.Column,{caption:"Action",width:120,alignment:"center",allowFiltering:!1,cellRender:function(e){var t=e.data;return e.rowIndex,c.a.createElement(S.a,{items:s(t),onItemClick:function(e){return function(e,t){"view"===e.action?n(t):"edit"===e.action?o(t):"delete"===e.action&&u(t)}(e,t)},TriggerComponent:c.a.createElement(O.a,null)})}}),c.a.createElement(m.Toolbar,null,c.a.createElement(m.Item,{location:"after",name:"columnChooserButton"}),c.a.createElement(m.Item,{location:"after",name:"searchPanel"}))))};t.default=g}}]);
//# sourceMappingURL=17.4b47a2cc.chunk.js.map