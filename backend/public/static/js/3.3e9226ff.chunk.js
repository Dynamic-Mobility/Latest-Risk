(this["webpackJsonprisk-solve"]=this["webpackJsonprisk-solve"]||[]).push([[3],{1790:function(e,t,a){"use strict";a.d(t,"i",(function(){return m})),a.d(t,"b",(function(){return d})),a.d(t,"l",(function(){return p})),a.d(t,"h",(function(){return b})),a.d(t,"a",(function(){return O})),a.d(t,"k",(function(){return f})),a.d(t,"j",(function(){return E})),a.d(t,"g",(function(){return v})),a.d(t,"f",(function(){return j})),a.d(t,"c",(function(){return y})),a.d(t,"m",(function(){return h})),a.d(t,"d",(function(){return S})),a.d(t,"e",(function(){return C}));var n=a(18),r=a(51),c=a.n(r),l=a(81),i=a(38),u=a(55),o=a(43),s=a(86),m=function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t),e.next=3,a.get("".concat(o.b.FETCH_LEGAL)).then((function(e){e.status===o.c.STATUS_OK&&t({type:i.a.LEGAL.GET_ALL,payload:e.data})})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e,t){return function(){var a=Object(l.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(o.b.CREATE_LEGAL),e).then((function(a){var r;a.status===o.c.STATUS_OK&&(n(Object(u.c)("Legal Compliance Created Successfully!")),e.id=null===(r=a.data)||void 0===r?void 0:r.id,n({type:i.a.LEGAL.ADD_ONE,payload:e}),t());console.log(a)})).catch((function(e){var t;void 0!==e.response.status?e.response.status===o.c.BAD_REQUEST&&n(Object(u.a)(null===(t=e.response.data.errors)||void 0===t?void 0:t.Name[0])):n(Object(u.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},p=function(e,t){return function(){var a=Object(l.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(o.b.UPDATE_LEGAL),e).then((function(a){a.status===o.c.STATUS_OK&&(n(Object(u.c)("Compliance Updated Successfully!")),n({type:i.a.LEGAL.UPDATE_ONE,payload:e}),t())})).catch((function(e){var t,a;void 0!==(null===(t=e.response)||void 0===t?void 0:t.status)?e.response.status===o.c.BAD_REQUEST&&n(Object(u.a)(null===(a=e.response.data.errors)||void 0===a?void 0:a.Name[0])):n(Object(u.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},b=function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t),e.next=3,a.get("".concat(o.b.FETCH_ENTERPRISE)).then((function(e){e.status===o.c.STATUS_OK&&t({type:i.a.ENTERPRISE.GET_ALL,payload:e.data})})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(e,t){return function(){var a=Object(l.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(o.b.CREATE_ENTERPRISE),e).then((function(a){var r;a.status===o.c.STATUS_OK&&(n(Object(u.c)("Enterprise Compliance Created Successfully!")),e.id=null===(r=a.data)||void 0===r?void 0:r.id,n({type:i.a.ENTERPRISE.ADD_ONE,payload:e}),t())})).catch((function(e){var t;void 0!==e.response.status?e.response.status===o.c.BAD_REQUEST&&n(Object(u.a)(null===(t=e.response.data.errors)||void 0===t?void 0:t.Name[0])):n(Object(u.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},f=function(e,t){return function(){var a=Object(l.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(o.b.UPDATE_ENTERPRISE),e).then((function(a){a.status===o.c.STATUS_OK&&(n(Object(u.c)("Compliance Updated Successfully!")),n({type:i.a.ENTERPRISE.UPDATE_ONE,payload:e}),t())})).catch((function(e){var t,a;void 0!==(null===(t=e.response)||void 0===t?void 0:t.status)?e.response.status===o.c.BAD_REQUEST&&n(Object(u.a)(null===(a=e.response.data.errors)||void 0===a?void 0:a.Name[0])):n(Object(u.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},E=function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t),e.next=3,a.get("".concat(o.b.FETCH_STATUTORY)).then((function(e){e.status===o.c.STATUS_OK&&t({type:i.a.STATUTORY.GET_ALL,payload:e.data})})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t),e.next=3,a.get("".concat(o.b.FETCH_COMPLIANCES)).then((function(e){var a=e.data,r=[];a.length>0&&a.map((function(e){return r.push(Object(n.a)({},e.compliance))})),e.status===o.c.STATUS_OK&&t({type:i.a.STATUTORY.GET_COMPLIANCES,payload:r})})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)(t),e.next=3,a.get("".concat(o.b.FETCH_APPROVALS)).then((function(e){var a=e.data,r=[];a.length>0&&a.map((function(e){return r.push(Object(n.a)({},e.compliance))})),e.status===o.c.STATUS_OK&&t({type:i.a.STATUTORY.GET_APPROVALS,payload:r})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(e,t){return function(){var a=Object(l.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(o.b.CREATE_STATUTORY),e).then((function(a){var r;a.status===o.c.STATUS_OK&&(n(Object(u.c)("Statutory Compliance Created Successfully!")),e.id=null===(r=a.data)||void 0===r?void 0:r.id,n({type:i.a.STATUTORY.ADD_ONE,payload:e}),t())})).catch((function(e){var t;void 0!==e.response.status?e.response.status===o.c.BAD_REQUEST&&n(Object(u.a)(null===(t=e.response.data.errors)||void 0===t?void 0:t.Name[0])):n(Object(u.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},h=function(e,t){return function(){var a=Object(l.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(s.a)(n),a.next=3,r.post("".concat(o.b.UPDATE_STATUTORY),e).then((function(a){a.status===o.c.STATUS_OK&&(n(Object(u.c)("Compliance Updated Successfully!")),n({type:i.a.STATUTORY.UPDATE_ONE,payload:e}),t())})).catch((function(e){var t,a;void 0!==(null===(t=e.response)||void 0===t?void 0:t.status)?e.response.status===o.c.BAD_REQUEST&&n(Object(u.a)(null===(a=e.response.data.errors)||void 0===a?void 0:a.Name[0])):n(Object(u.a)(e.message))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(l.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(a),t.next=3,n.post("".concat(o.b.APPROVE_COMPLIANCE),e).then((function(e){var t;e.data.success?a(Object(u.c)("Compliance Approved Successfully!")):a(Object(u.a)(null!==(t=e.data.message)&&void 0!==t?t:"Ann error occured try again later!"))})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(l.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(s.a)(a),t.next=3,n.post("".concat(o.b.COMPLY_COMPLIANCE),e).then((function(e){var t;e.data.success?a(Object(u.c)("Complied Successfully!")):a(Object(u.a)(null!==(t=e.data.message)&&void 0!==t?t:"Ann error occured try again later!"))})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},1803:function(e,t,a){"use strict"},2045:function(e,t,a){"use strict";a.r(t),a.d(t,"Preview",(function(){return be}));var n=a(41),r=a(18),c=a(33),l=a(0),i=a.n(l),u=a(174),o=a(93),s=a(169),m=a(1657),d=a(1656),p=a(836),b=a(92),O=a(1783),f=a(1870),E=function(e){var t=e.departments,a=e.sections,n=e.subSections,r=e.organization,c=e.complianceDetails,l=e.index,u=e.handleOnDepartmentChange,o=e.handleOnSectionChange,E=e.handleOnSubSectionChange,v=e.handleRemoveDept;return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,null,i.a.createElement(m.a,{item:!0,md:4,xs:12},i.a.createElement(O.a,{fullWidth:!0,id:"department_".concat(l),options:Object(b.f)(t,c,"companyId"),value:Object(b.d)(t,r.departmentId),getOptionLabel:function(e){return e.name},onChange:u(l),renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return i.a.createElement(d.a,Object.assign({required:!0,helperText:""===c.companyId?"Select Subsidiary":"",fullWidth:!0},e,{size:"small",variant:"outlined",label:"Department"}))}})),i.a.createElement(m.a,{item:!0,md:3,xs:12},i.a.createElement(O.a,{fullWidth:!0,options:Object(b.f)(a,r,"departmentId","departmentsId"),value:Object(b.d)(a,r.sectionId),getOptionLabel:function(e){return e.name},onChange:o(l),renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return i.a.createElement(d.a,Object.assign({helperText:""===r.departmentId?"Select Department":"",fullWidth:!0},e,{size:"small",variant:"outlined",label:"Section"}))}})),i.a.createElement(m.a,{item:!0,md:4,xs:12},i.a.createElement(O.a,{fullWidth:!0,options:Object(b.f)(n,r,"sectionId","sectionsId"),value:Object(b.d)(n,r.subSectionId),getOptionLabel:function(e){return e.name},onChange:E(l),renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return i.a.createElement(d.a,Object.assign({fullWidth:!0},e,{size:"small",variant:"outlined",label:"Sub-Section"}))}})),i.a.createElement(m.a,{item:!0,md:1,xs:12},i.a.createElement(p.a,{color:"secondary",onClick:function(e){return v(l)}},i.a.createElement(f.a,{fontSize:"small"})))))},v=a(1743),j=a(1778),y=a(1736),h=a(1790),S=a(371),C=a(517),N=a(382),g=a(1651),T=a(1767),A=a(837),I=a(1768),w=a(1769),k=a(1770),x=a(1771),D=a(1772),U=a(1773),_=a(171),P=a(140),R=a(1763),L=a(21),z=a(139),W=a.n(z),Y=a(1764),B=a(1765),F=a(1644),M=a(1738),H=a(202),K=a(1643),q=a(162),G=a(285),Q=(a(1803),a(1775)),V=a(134),J=a.n(V),X=a(90),Z=a(114),$=a(243),ee=a(258),te=a(299),ae=a(461),ne=a(60),re=a(398),ce=a(145),le=a(613),ie=a(262),ue=[{label:o.a.DASHBOARD,link:"/"}],oe=function(e){var t=Object(P.a)(),a=e.handleOnSave,n=e.showForm,r=e.handleOnCancel,c=e.isEditable,l=e.setIsEditable;return i.a.createElement(C.a,{className:t.inBuildAppHeader},i.a.createElement(C.a,{className:t.inBuildAppHeaderSidebar},i.a.createElement(p.a,{style:{color:"white"},onClick:function(e){history.back()}},i.a.createElement(R.a,null)),i.a.createElement(N.a,{className:t.inBuildAppHeaderTitle,component:"div",variant:"h1"},"Compliance")),i.a.createElement(C.a,{className:t.inBuildAppHeaderContent},n&&i.a.createElement(C.a,{ml:"auto",display:"flex",alignItems:"center"},c?i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{ml:1},i.a.createElement(g.a,{variant:"contained",style:{backgroundColor:"green",color:"white"},size:"small",onClick:a},"Save"))):i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{ml:1},i.a.createElement(g.a,{variant:"contained",style:{backgroundColor:"green",color:"white"},size:"small",onClick:function(){return l(!0)}},"Edit"))),i.a.createElement(C.a,{ml:1},i.a.createElement(g.a,{variant:"contained",style:{backgroundColor:"darkred",color:"white"},size:"small",onClick:r},"Close")))))},se=["1. Compliance Details","2. Finish"],me=function(e){var t=Object(P.a)(),a=e.activeStep,n=e.handleNext,r=e.handlePrev,c=e.setActiveStep;return i.a.createElement(C.a,{className:t.inBuildAppSidebar},i.a.createElement(W.a,{className:t.perfectScrollbarContactSidebar},i.a.createElement(C.a,{display:"flex",justifyItems:"center",justifyContent:"center",mt:2},i.a.createElement(p.a,{color:"primary",onClick:r,disabled:0===a},i.a.createElement(Y.a,null)),i.a.createElement(C.a,{m:1}),i.a.createElement(p.a,{color:"primary",onClick:n,disabled:a===se.length-1},i.a.createElement(B.a,null))),i.a.createElement(C.a,{mt:5},i.a.createElement(K.a,{component:"nav",className:t.appNav},i.a.createElement(H.a,{data:se,renderRow:function(e,n){return i.a.createElement(de,{key:n,index:n,activeStep:a,item:e,classes:t,setActiveStep:c})}})))))},de=function(e){var t=e.index,a=e.item,n=e.classes,r=e.activeStep,c=e.setActiveStep,u=Object(l.useRef)(null);return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{ref:u,button:!0,title:a,onClick:function(e){return c(t)},className:Object(L.a)(n.appNavItem,n.appTaskNavItem,{active:t===r,completed:r>t})},i.a.createElement(M.a,{primary:a,className:"Cmt-nav-text"})))},pe=function(e){var t,a,u,o,p=Object(ne.d)(),f=Object(ne.e)((function(e){return e.riskUniverse})).risks;console.log(f);var N=Object(ne.e)((function(e){return e.subsidiaries})),I=N.subsidiaries,w=N.currentSubsidiary,k=Object(ne.e)((function(e){return e.departments})).departments,x=Object(ne.e)((function(e){return e.sections})).sections,D=Object(ne.e)((function(e){return e.subSections})).subSections,U=Object(ne.e)((function(e){return e.users})).users,_=Object(ne.e)((function(e){return e.utils})),P=_.currencies,R=_.priorities,L=_.complianceFrequencies,z=e.classes,Y=e.activeStep,B=e.handleNext,F=e.handlePrev,M=e.complianceDetails,H=e.setComplianceDetails,K=e.handleOnSave,V=Object(l.useState)(new Date),X=Object(c.a)(V,2),Z=X[0],ce=X[1],ue={id:"",name:""},oe=["Both","Quantitative","Qualitative"],me=Object(l.useState)(""),de=Object(c.a)(me,2),pe=(de[0],de[1],Object(ne.e)((function(e){return e.compliance})).statutoryComplianceData);Object(l.useEffect)((function(){p(Object(h.j)())}),[]),Object(l.useEffect)((function(){p(Object(S.d)())}),[]);var Oe="HasSubCompliance",fe="Link to an existing compliance",Ee="Compliance requires a supporting documentation",ve=function(e){return function(t,a){var c=Object(n.a)(M.organization);c[e]=null!==a?{departmentId:a.id,departmentName:a.name,sectionId:null,sectionName:"",subSectionId:null,subSectionName:""}:{departmentId:null,departmentName:"",sectionId:null,sectionName:"",subSectionId:null,subSectionName:""},H(Object(r.a)(Object(r.a)({},M),{},{organization:Object(n.a)(c)}))}},je=function(e){return function(t,a){var c=Object(n.a)(Se);c[e]=null!==a?Object(r.a)(Object(r.a)({},c[e]),{},{sectionId:a.id,sectionName:a.name,subSectionId:null,subSectionName:""}):Object(r.a)(Object(r.a)({},c[e]),{},{sectionId:null,sectionName:"",subSectionId:null,subSectionName:""}),H(Object(r.a)(Object(r.a)({},M),{},{organization:Object(n.a)(c)}))}},ye=function(e){return function(t,a){var c=Object(n.a)(Se);c[e]=null!==a?Object(r.a)(Object(r.a)({},c[e]),{},{subSectionId:a.id,subSectionName:a.name}):Object(r.a)(Object(r.a)({},c[e]),{},{subSectionId:null,subSectionName:""}),H(Object(r.a)(Object(r.a)({},M),{},{organization:Object(n.a)(c)}))}},he=function(e){var t=Object(n.a)(Se);t.length-1!==0?(t.splice(e,1),H(Object(r.a)(Object(r.a)({},M),{},{organization:t}))):p(Object(ie.a)("At least One Department is Required"))};Object(l.useEffect)((function(){H(Object(r.a)(Object(r.a)({},M),{},{submissionDeadline:J()(Z).format("YYYY-MM-DD")}))}),[Z]),Object(l.useEffect)((function(){H(Object(r.a)(Object(r.a)({},M),{},{companyId:w}))}),[w]),Object(l.useEffect)((function(){p(Object($.c)()),p(Object(ee.c)()),p(Object(te.c)()),p(Object(ae.c)()),p(Object(re.c)()),p(Object(le.c)()),p(Object(le.e)()),p(Object(le.d)())}),[]);var Se=M.organization,Ce={departmentId:null,departmentName:"",sectionId:null,sectionName:"",subSectionId:null,subSectionName:""};return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{className:z.inBuildAppMainContent,minHeight:400},i.a.createElement(W.a,{className:z.perfectScrollbarContactCon},i.a.createElement(C.a,{p:5,display:"flex"},0===Y&&i.a.createElement(C.a,{width:"100%"},i.a.createElement(s.a,null,i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(q.a,{fullWidth:!0,variant:"outlined",label:"Compliance Title",value:M.title,onChange:function(e){return H(Object(r.a)(Object(r.a)({},M),{},{title:e.target.value}))}})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(q.a,{fullWidth:!0,multiline:!0,minRows:4,variant:"outlined",label:"Compliance Description",value:M.description,onChange:function(e){return H(Object(r.a)(Object(r.a)({},M),{},{description:e.target.value}))}})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(q.a,{fullWidth:!0,variant:"outlined",label:"Authority",value:M.authority,onChange:function(e){return H(Object(r.a)(Object(r.a)({},M),{},{authority:e.target.value}))}})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(O.a,{fullWidth:!0,options:f,value:Object(b.d)(f,M.riskUniverseId),getOptionLabel:function(e){return e.riskTitle},onChange:function(e,t){H(null!==t?Object(r.a)(Object(r.a)({},M),{},{riskUniverseName:t.name,riskUniverseId:t.id}):Object(r.a)(Object(r.a)({},M),{},{riskUniverseName:"",riskUniverseId:null}))},renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.riskTitle)},renderInput:function(e){return i.a.createElement(d.a,Object.assign({required:!0,fullWidth:!0},e,{size:"small",variant:"outlined",label:"RiskUniverse"}))}})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(O.a,{fullWidth:!0,options:I,value:null!==(t=null===I||void 0===I?void 0:I.find((function(e){return e.id===M.companyId})))&&void 0!==t?t:ue,getOptionLabel:function(e){return e.name},onChange:function(e,t){H(null!==t?Object(r.a)(Object(r.a)({},M),{},{companyId:t.id,companyName:t.name}):Object(r.a)(Object(r.a)({},M),{},{companyId:null,companyName:""}))},renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return i.a.createElement(d.a,Object.assign({required:!0,fullWidth:!0},e,{size:"small",variant:"outlined",label:"Subsidiary"}))}})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(C.a,{width:"100%",mt:5,mb:2,display:"flex"},i.a.createElement(g.a,{onClick:function(){H(Object(r.a)(Object(r.a)({},M),{},{organization:[].concat(Object(n.a)(M.organization),[Ce])}))},type:"button",size:"small",startIcon:i.a.createElement(v.a,null),variant:"outlined",color:"primary"},"Assign Department"))),0!==Se.length&&Se.map((function(e,t){return i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(C.a,{key:t,mt:3},i.a.createElement(E,{departments:k,sections:x,subSections:D,organization:e,complianceDetails:M,handleOnDepartmentChange:ve,handleOnSectionChange:je,handleOnSubSectionChange:ye,index:t,handleRemoveDept:he})))})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(O.a,{fullWidth:!0,options:U,value:null!==(a=U.find((function(e){return e.id===M.primaryOwnerId})))&&void 0!==a?a:ue,getOptionLabel:function(e){var t;return null!==(t=e.name)&&void 0!==t?t:e.firstName+" "+e.lastName},onChange:function(e,t){H(null!==t?Object(r.a)(Object(r.a)({},M),{},{primaryOwnerId:t.id,primaryOwnerName:t.firstName+" "+t.lastName}):Object(r.a)(Object(r.a)({},M),{},{primaryOwnerId:null,primaryOwnerName:""}))},renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.firstName+" "+e.lastName)},renderInput:function(e){return i.a.createElement(d.a,Object.assign({fullWidth:!0},e,{size:"small",variant:"outlined",label:"Primary Owner"}))}})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(O.a,{fullWidth:!0,options:U,value:null!==(u=U.find((function(e){return e.id===M.secondaryOwnerId})))&&void 0!==u?u:ue,getOptionLabel:function(e){var t;return null!==(t=e.name)&&void 0!==t?t:e.firstName+" "+e.lastName},onChange:function(e,t){H(null!==t?Object(r.a)(Object(r.a)({},M),{},{secondaryOwnerId:t.id,secondaryOwnerName:t.firstName+" "+t.lastName}):Object(r.a)(Object(r.a)({},M),{},{secondaryOwnerId:null,secondaryOwnerName:""}))},renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.firstName+" "+e.lastName)},renderInput:function(e){return i.a.createElement(d.a,Object.assign({fullWidth:!0},e,{size:"small",variant:"outlined",label:"Secondary Owner"}))}})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(O.a,{fullWidth:!0,options:U,value:null!==(o=U.find((function(e){return e.id===M.escalationOwnerId})))&&void 0!==o?o:ue,getOptionLabel:function(e){var t;return null!==(t=e.name)&&void 0!==t?t:e.firstName+" "+e.lastName},onChange:function(e,t){H(null!==t?Object(r.a)(Object(r.a)({},M),{},{escalationOwnerId:t.id,escalationOwnerName:t.firstName+" "+t.lastName}):Object(r.a)(Object(r.a)({},M),{},{escalationOwnerId:null,escalationOwnerName:""}))},renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.firstName+" "+e.lastName)},renderInput:function(e){return i.a.createElement(d.a,Object.assign({fullWidth:!0},e,{size:"small",variant:"outlined",label:"Escalation Owner"}))}})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(O.a,{fullWidth:!0,options:oe,onChange:function(e,t){return H(Object(r.a)(Object(r.a)({},M),{},{penaltyType:t}))},value:M.penaltyType,renderInput:function(e){return i.a.createElement(d.a,Object.assign({fullWidth:!0},e,{size:"small",variant:"outlined",label:"Penalty Types"}))}})),M.penaltyType===oe[0]?i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{item:!0,md:6,xs:12},i.a.createElement(d.a,{fullWidth:!0,label:"Penalty",type:"number",variant:"outlined",value:M.penalty,onChange:function(e){H(Object(r.a)(Object(r.a)({},M),{},{penalty:e.target.value}))},InputProps:{startAdornment:i.a.createElement(T.a,{position:"start"},i.a.createElement(d.a,{select:!0,style:{width:"90px"},label:"",value:M.penaltyCurrency,onChange:function(e){return H(Object(r.a)(Object(r.a)({},M),{},{penaltyCurrency:e.target.value}))},InputProps:{disableUnderline:!0}},P.map((function(e){return i.a.createElement(A.a,{key:e.id,value:e.name},e.name)}))))}})),i.a.createElement(m.a,{item:!0,md:6,xs:12},i.a.createElement(q.a,{fullWidth:!0,multiline:!0,minRows:4,variant:"outlined",label:"Narrative",value:M.description,onChange:function(e){return H(Object(r.a)(Object(r.a)({},M),{},{description:e.target.value}))}}))):null,M.penaltyType===oe[1]?i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(d.a,{fullWidth:!0,label:"Penalty",type:"number",variant:"outlined",value:M.penalty,onChange:function(e){H(Object(r.a)(Object(r.a)({},M),{},{penalty:e.target.value}))},InputProps:{startAdornment:i.a.createElement(T.a,{position:"start"},i.a.createElement(d.a,{select:!0,style:{width:"90px"},label:"",value:M.penaltyCurrency,onChange:function(e){return H(Object(r.a)(Object(r.a)({},M),{},{penaltyCurrency:e.target.value}))},InputProps:{disableUnderline:!0}},P.map((function(e){return i.a.createElement(A.a,{key:e.id,value:e.name},e.name)}))))}})):null,M.penaltyType===oe[2]?i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(q.a,{fullWidth:!0,multiline:!0,minRows:4,variant:"outlined",label:"Narrative",value:M.penaltyNarrative,onChange:function(e){return H(Object(r.a)(Object(r.a)({},M),{},{penaltyNarrative:e.target.value}))}})):null,i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(G.a,{fullWidth:!0,data:R,label:"Priority",valueKey:"name",variant:"outlined",labelKey:"name",value:M.priority,onChange:function(e){return H(Object(r.a)(Object(r.a)({},M),{},{priority:e.target.value}))}})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(G.a,{fullWidth:!0,data:L,label:"Frequency",valueKey:"id",variant:"outlined",labelKey:"name",value:M.frequency,onChange:function(e){return H(Object(r.a)(Object(r.a)({},M),{},{frequency:e.target.value}))}})),i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(Q.a,{autoOk:!0,fullWidth:!0,clearable:!0,inputVariant:"outlined",label:"Submission Deadline",onChange:function(e){ce(e)},value:""!==M.submissionDeadline?M.submissionDeadline:Z,format:"DD-MM-yyyy",animateYearScrolling:!0})),i.a.createElement(m.a,{item:!0,md:4,xs:12},i.a.createElement(y.a,{value:"start",control:i.a.createElement(j.a,{checked:M.hasSubCompliance,onChange:function(e){H(Object(r.a)(Object(r.a)({},M),{},{hasSubCompliance:e.target.checked})),console.log(e.target.checked)},color:"primary"}),label:Oe,labelPlacement:"start"})),i.a.createElement(m.a,{item:!0,md:4,xs:12},i.a.createElement(y.a,{value:"start",control:i.a.createElement(j.a,{checked:M.isSubCompliance,onChange:function(e){H(Object(r.a)(Object(r.a)({},M),{},{isSubCompliance:e.target.checked})),console.log(e.target.checked)},color:"primary"}),label:fe,labelPlacement:"start"})),i.a.createElement(m.a,{item:!0,md:4,xs:12},i.a.createElement(y.a,{value:"start",control:i.a.createElement(j.a,{checked:M.hasAttachment,onChange:function(e){H(Object(r.a)(Object(r.a)({},M),{},{hasAttachment:e.target.checked})),console.log(e.target.checked)},color:"primary"}),label:Ee,labelPlacement:"start"})),M.isSubCompliance?i.a.createElement(m.a,{item:!0,md:12,xs:12},i.a.createElement(O.a,{fullWidth:!0,options:pe,value:Object(b.d)(pe,M.subId),getOptionLabel:function(e){return e.title},onChange:function(e,t){H(null!==t?Object(r.a)(Object(r.a)({},M),{},{subId:t.id}):Object(r.a)(Object(r.a)({},M),{},{subId:null}))},renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.title)},renderInput:function(e){return i.a.createElement(d.a,Object.assign({fullWidth:!0},e,{size:"small",variant:"outlined",label:"Select Compliance"}))}})):null)),1===Y&&i.a.createElement(C.a,{width:"100%"},i.a.createElement(be,{complianceDetails:M}))),i.a.createElement(C.a,{display:"flex",m:3,pb:3},Y===se.length-1&&i.a.createElement(g.a,{onClick:F,variant:"contained",color:"primary",size:"small"},"Prev"),i.a.createElement(C.a,{flex:"1 0 auto"}),Y!==se.length-1&&i.a.createElement(g.a,{onClick:B,variant:"contained",color:"primary",size:"small"},"Continue"),Y===se.length-1&&i.a.createElement(g.a,{onClick:K,variant:"contained",color:"primary",size:"small"},"Save")))))},be=function(e){var t,a=e.complianceDetails,n=e.isView,r=Object(P.a)();return i.a.createElement(I.a,{className:r.inBuildAppCard},i.a.createElement(w.a,{size:"small","aria-label":"a dense table"},!n&&i.a.createElement(k.a,{className:r.tableHeader},i.a.createElement(x.a,null,i.a.createElement(D.a,{className:r.tableHeaderCell},"Field Name"),i.a.createElement(D.a,{className:r.tableHeaderCell},"Input Value"))),i.a.createElement(U.a,null,i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Compliance Title")),i.a.createElement(D.a,null,""!==a.title?a.title:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Compliance Description")),i.a.createElement(D.a,null,""!==a.description?(t=a.description,i.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})):"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Company")),i.a.createElement(D.a,null,""!==a.companyName?a.companyName:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Department")),i.a.createElement(D.a,null,""!==a.departmentsName?a.departmentsName:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Section")),i.a.createElement(D.a,null,""!==a.sectionsName?a.sectionsName:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Sub Section")),i.a.createElement(D.a,null,""!==a.subSectionsName?a.subSectionsName:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Authority")),i.a.createElement(D.a,null,""!==a.authority?a.authority:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Penalty in ",a.penaltyCurrency)),i.a.createElement(D.a,null,""!==a.penalty?a.penalty:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Primary Owner")),i.a.createElement(D.a,null,""!==a.primaryOwnerName?a.primaryOwnerName:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Secondary Owner")),i.a.createElement(D.a,null,""!==a.secondaryOwnerName?a.secondaryOwnerName:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Escalation Person")),i.a.createElement(D.a,null,""!==a.escalationOwnerName?a.escalationOwnerName:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Priority")),i.a.createElement(D.a,null,""!==a.priority?a.priority:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Frequency")),i.a.createElement(D.a,null,""!==a.frequency?a.frequency:"Not Set")),i.a.createElement(x.a,null,i.a.createElement(D.a,null,i.a.createElement("b",null,"Submission Deadline")),i.a.createElement(D.a,null,""!==a.submissionDeadline?a.submissionDeadline:"Not Set")))))},Oe=function(e){var t=e.classes,a=e.handleReset,n=e.isUpdate;return i.a.createElement(C.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},i.a.createElement(ce.a,{src:"/images/ic_ok.svg",style:{width:"50px"}}),i.a.createElement("p",{className:t.instructions,style:{marginTop:"10px"}},i.a.createElement("b",null,"Compliance was ",n?"updated":"created"," successfully!")),i.a.createElement(C.a,{mt:10},i.a.createElement(Z.a,{to:"/compliance/statutory-compliance"},i.a.createElement(g.a,{color:"primary",variant:"contained"},"Back to Compliance Dashboard")),!n&&i.a.createElement(g.a,{onClick:a,className:t.button},"Create New Compliance")))};t.default=function(){var e=Object(P.a)(),t=Object(l.useState)(0),a=Object(c.a)(t,2),s=a[0],m=a[1],d={title:"",description:"",authority:"",riskUniverseId:"",companyId:"",organization:[{departmentId:null,departmentName:"",sectionId:null,sectionName:"",subSectionId:null,subSectionName:""}],penaltyType:"",penalty:0,penaltyNarrative:"",penaltyCurrency:"KES",primaryOwnerId:null,secondaryOwnerId:null,escalationOwnerId:null,priority:"",frequency:0,active:!0,submissionDeadline:"",complianceType:"",sourceDoc:"",isSubCompliance:!1,hasSubCompliance:!1,subId:null,hasAttachment:!1},p=Object(l.useState)(d),b=Object(c.a)(p,2),O=b[0],f=b[1],E=Object(l.useState)(ue),v=Object(c.a)(E,2),j=v[0],y=v[1],S=Object(l.useState)(!1),N=Object(c.a)(S,2),g=N[0],T=N[1],A=Object(X.h)(),I=Object(ne.d)(),w=function(){m(s+1)},k=function(){f(d),T(!1),m(0)},x=function(){m(s-1)};return Object(l.useEffect)((function(){void 0!==A.state?(y([].concat(Object(n.a)(j),[{label:o.a.STATUTORY_COMPLIANCE.name,link:"/compliance/".concat(o.a.STATUTORY_COMPLIANCE.url)},{label:o.a.UPDATE_STATUTORY_COMPLIANCE,isActive:!0}])),f(A.state),T(!0)):(y([].concat(Object(n.a)(j),[{label:o.a.STATUTORY_COMPLIANCE.name,link:"/compliance/".concat(o.a.STATUTORY_COMPLIANCE.url)},{label:o.a.CREATE_STATUTORY_COMPLIANCE,isActive:!0}])),f(d),T(!1))}),[A]),i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{heading:g?o.a.UPDATE_STATUTORY_COMPLIANCE:o.a.CREATE_STATUTORY_COMPLIANCE,breadcrumbs:j},i.a.createElement(C.a,{className:e.inBuildAppCard},i.a.createElement(oe,null),s===se.length?i.a.createElement(C.a,{className:Object(L.a)(e.inBuildAppContainer),minHeight:400},i.a.createElement(C.a,{width:"100%",m:5},i.a.createElement(Oe,{classes:e,handleReset:k,isUpdate:g}))):i.a.createElement(C.a,{className:Object(L.a)(e.inBuildAppContainer)},i.a.createElement(me,{activeStep:s,handleNext:w,handlePrev:x,setActiveStep:m}),i.a.createElement(pe,{classes:e,isUpdate:g,activeStep:s,handleNext:w,handlePrev:x,handleReset:k,complianceDetails:O,setComplianceDetails:f,handleOnSave:function(e){e.preventDefault();var t=Object(r.a)(Object(r.a)({},O),{},{penalty:parseFloat(O.penalty)});I(g?Object(h.m)(t,(function(){return w()})):Object(h.c)(t,(function(){return w()})))}})))),i.a.createElement(_.NotificationContainer,null))}}}]);
//# sourceMappingURL=3.3e9226ff.chunk.js.map