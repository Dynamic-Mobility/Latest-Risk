(this["webpackJsonprisk-solve"]=this["webpackJsonprisk-solve"]||[]).push([[21],{2090:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(174),i=a(93),o=a(517),c=a(169),m=a(33),s=a(25),d=a(423),u=a(1657),p=a(1766),g=a(1744),h=a(1745),E=a(1746),b=a(1651),f=a(91),w=a(80),F=a(41),y=a(1796),S=(a(145),a(1812),a(453),a(285),a(836),a(382)),C=a(1737),v=a(1055),k=a(837),O=a(175),x=a(451),j=(a(2028),a(385)),R=a(1793),H=a(1794),W=a(2043),I=a(384),A=a(95),D=a.n(A),M=a(21),T=["data","department","currentFilter"],B=D()((function(e){return{cardContentRoot:{position:"relative"},titleRoot:{letterSpacing:.5,marginBottom:20},listItemRoot:{padding:0,"& .root":{marginBottom:1},"& .Cmt-label-container":{fontSize:12,color:e.palette.text.secondary}},subTitleRoot:{fontSize:12,color:e.palette.text.secondary},lossCategoryRoot:{color:e.palette.text.primary,"& text":{fill:e.palette.text.primary}},countryCellItem:{cursor:"pointer",padding:10,fontSize:12,transition:"all .2s",borderRadius:4,"&:hover, &.active":{backgroundColor:Object(f.a)(e.palette.common.dark,.04),"& .text-hover":{color:e.palette.text.primary}},"&:hover":{transform:"translateY(-4px)",boxShadow:"0 3px 10px 0 ".concat(Object(f.a)(e.palette.common.dark,.2))}}}})),N=function(e){var t=e.data,a=e.department,l=e.currentFilter,r=Object(w.a)(e,T),i=B();return n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,{container:!0,spacing:1},void 0!==t&&0!==t.length&&t.map((function(e,t){return n.a.createElement(u.a,{item:!0,xs:12,md:3,key:t},n.a.createElement(o.a,Object.assign({display:"flex",alignItems:"center",justifyContent:"space-between",className:Object(M.a)(i.countryCellItem,{active:a.name===e.name})},r),n.a.createElement(o.a,{component:"span",ml:3,height:10,width:10,bgcolor:e.color,borderRadius:"50%"}),n.a.createElement(o.a,null,n.a.createElement(o.a,{className:"text-hover",px:1},n.a.createElement("b",null,e.name))),n.a.createElement(o.a,{px:1,display:"flex",alignItems:"center"},n.a.createElement(o.a,{mx:1},e.risks))))}))),n.a.createElement(S.a,{gutterBottom:!0,variant:"h6"},l),n.a.createElement(u.a,{container:!0,spacing:1},void 0!==t&&0!==t.length&&t[0].children.map((function(e,t){return n.a.createElement(u.a,{item:!0,xs:12,md:3,key:t},n.a.createElement(o.a,Object.assign({display:"flex",alignItems:"center",justifyContent:"space-between",className:Object(M.a)(i.countryCellItem,{active:a.name===e.name})},r),n.a.createElement(o.a,null,n.a.createElement(o.a,{className:"text-hover",px:1},n.a.createElement("b",null,e.slug)," - ",e.name)),n.a.createElement(o.a,{px:1,display:"flex",alignItems:"center"},n.a.createElement(o.a,{mx:1}))))}))))},z=function(e){var t=Object(O.a)(),a=e.data,l=e.color,r=(void 0===l&&I.a[4],e.handleOnMapClick,function(e){e.root;var a=e.depth,l=e.x,r=e.y,o=e.width,c=e.height,m=e.index,s=(e.fill,e.color),d=e.risks,u=(e.name,e.slug);return n.a.createElement("g",null,1===a&&n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:"color".concat(m),x1:"0",y1:"0",x2:"1",y2:"0",gradientTransform:"rotate(90)"},n.a.createElement("stop",{offset:"20%",stopColor:s,stopOpacity:1}),n.a.createElement("stop",{offset:"100%",stopColor:i(s),stopOpacity:1}))),n.a.createElement("rect",{x:l,y:r,width:o,height:c,style:{fill:1===a?"url(#color".concat(m,")"):"none",stroke:"#fff",strokeWidth:2/(a+1e-10),strokeOpacity:1/(a+1e-10),cursor:"pointer"}}),2===a?n.a.createElement("text",{x:l+o/2,y:r+c/2+7,textAnchor:"middle",fontFamily:t.typography.fontFamily,letterSpacing:2,fontWeight:t.typography.fontWeightLight,fill:Object(f.a)(t.palette.common.white,.74),fontSize:14},u):null,2===a?n.a.createElement("text",{x:l+o/2,y:r+c/2+27,fontFamily:t.typography.fontFamily,letterSpacing:2,fontWeight:t.typography.fontWeightLight,textAnchor:"middle",fill:Object(f.a)(t.palette.common.white,.74),fontSize:12},d):null)}),i=function(e){var t=I.b.find((function(t){return t[0]===e}));return void 0!==t?t[1]:null};return n.a.createElement(y.f,{width:"100%",height:300},n.a.createElement(y.j,{margin:{top:0,right:0,left:0,bottom:0},data:a,dataKey:"risks",ratio:4/3,stroke:"#fff",fill:"url(#color1)",content:n.a.createElement(r,{colors:I.a}),isAnimationActive:!0},n.a.createElement(y.i,{content:function(e){var t=e.active,a=e.payload;e.label;return t&&a&&a.length?n.a.createElement(o.a,{component:x.a,boxShadow:2,padding:2},n.a.createElement(S.a,{variant:"h5",style:{color:a[0].payload.fill}},a[0].payload.name),n.a.createElement(S.a,{variant:"caption"},"Risks : ".concat(a[0].value))):null}})))},L=function(e){var t=e.data,a=e.currentFilter,r=e.setCurrentFilter,i=e.classes,s=e.filters,d=e.department,p=e.setDepartment,g=e.setOpenDialog,h=Object(l.useState)([{name:a,action:"",level:0}]),E=Object(m.a)(h,2),b=E[0],f=E[1],w=function(e){r(e.target.value),y(e.target.value)},y=function(e){O(0,e)},O=function(e,t){var a=Object(F.a)(b);a.splice(e+1,a.length),a[0].name=t,f(a),p({id:"",name:""})};return n.a.createElement(H.a,null,n.a.createElement(j.a,{title:"Number of Risks  by ".concat(a),subTitle:""},n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,{component:"span",mr:3,height:10,width:10,bgcolor:I.a[4],borderRadius:"50%"}),n.a.createElement(v.a,{className:i.selectBoxRoot,labelId:"simple-select-label",id:"simple",value:a,onChange:w},s.map((function(e,t){return n.a.createElement(k.a,{key:t,value:e.label},e.label)}))))),n.a.createElement(R.a,{className:i.cardContentRoot},n.a.createElement(o.a,{mb:2},n.a.createElement(n.a.Fragment,null,n.a.createElement(W.a,{"aria-label":"breadcrumb",separator:">",className:"bread-crumbs"},b.map((function(e,t){return b.length-1===t?n.a.createElement(S.a,{underline:"hover",variant:"h6",key:t},e.name):n.a.createElement(C.a,{underline:"hover",color:"primary",variant:"h6",href:"",onClick:function(e){e.preventDefault(),O(t,a)},key:t},e.name)}))))),n.a.createElement(c.a,null,n.a.createElement(u.a,{item:!0,xs:12,md:12},n.a.createElement(z,{data:t,handleOnMapClick:function(e){if(""===d.id&&a===s[0].label){if(p({id:e.id,name:e.name}),b.length<2){var t=Object(F.a)(b);t.push({name:e.name,level:b.length+1,action:""}),f(t)}}else g(!0)}})),n.a.createElement(u.a,{item:!0,xs:12,md:12},n.a.createElement(S.a,{gutterBottom:!0,variant:"h4"},"KEY"),n.a.createElement(N,{data:t,department:d,currentFilter:a})))))},P=a(31),V=a(1787),K=a(199),G=function(e){var t=e.risks,a=function(e){return e.displayValue.map((function(e,t){return n.a.createElement("li",{key:t},e)}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(K.DataGrid,{id:"risksView",columnAutoWidth:!0,dataSource:t,showColumnLines:!0,showRowLines:!0,showBorders:!0,allowColumnResizing:!0,rowAlternationEnabled:!0},n.a.createElement(P.FilterRow,{visible:!0}),n.a.createElement(P.StateStoring,{enabled:!1,type:"localStorage",storageKey:"risksView"}),n.a.createElement(P.FilterPanel,{visible:!0}),n.a.createElement(P.SearchPanel,{visible:!0}),n.a.createElement(P.ColumnChooser,{enabled:!0,mode:"select"}),n.a.createElement(P.HeaderFilter,{visible:!0,allowSearch:!0}),n.a.createElement(P.Column,{dataField:"id",caption:"Risk ID",key:"id",visible:!0}),n.a.createElement(P.Column,{dataField:"riskTitle",width:150,caption:"Risk Title",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"riskEvent",width:200,caption:"Risk Event",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"status",minWidth:100,caption:"Status",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1,allowHiding:!0,cellRender:function(e){var t,a=e.displayValue;return"Approved"===a?t="green":"Pending"===a?t="orange":"Rejected"===a&&(t="red"),n.a.createElement(V.a,{style:{color:t,borderColor:t},size:"small",variant:"outlined",label:a})}}),n.a.createElement(P.Column,{dataField:"riskCategory",minWidth:100,caption:"Risk Category",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"department",minWidth:100,caption:"Department",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"section",minWidth:100,caption:"Section",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"subSection",minWidth:100,caption:"Sub-Section",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"rootCauses",minWidth:100,caption:"Root Causes",allowHeaderFiltering:!0,allowSearch:!0,cellRender:a,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"riskImpact",minWidth:100,caption:"Risk Impact",cellRender:a}),n.a.createElement(P.Column,{dataField:"riskImpactAmount",minWidth:100,caption:"Risk Impact Amount",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"probability",minWidth:100,caption:"Probability",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"severity",minWidth:100,caption:"Severity",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"residualRisk",minWidth:100,caption:"Residual Risk",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"riskControlCat",minWidth:100,caption:"Risk Control Category",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"controlActions",minWidth:100,caption:"Mitigations/Control",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1,cellRender:a}),n.a.createElement(P.Column,{dataField:"lossType",minWidth:100,caption:"Loss Type",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"riskOwner",minWidth:100,caption:"Risk Owner",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"keyIndicator",minWidth:100,caption:"Risk Indicator",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Column,{dataField:"riskAppetite",minWidth:100,caption:"Risk Appetite",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(P.Scrolling,{rowRenderingMode:"virtual"}),n.a.createElement(P.Paging,{defaultPageSize:20}),n.a.createElement(P.Pager,{visible:!0,displayMode:!0,showPageSizeSelector:!1,showInfo:!0,showNavigationButtons:!0})))},J=a(177),Y=a(1874),_=a(1869),q=Object(d.a)((function(e){var t;return{headerItem:(t={display:"flex",alignItems:"center",paddingLeft:16,paddingRight:16},Object(s.a)(t,e.breakpoints.down("xs"),{fontSize:13,paddingLeft:8,paddingRight:8}),Object(s.a)(t,"color",Object(f.a)(e.palette.common.white,.74)),Object(s.a)(t,"&:not(:first-child)",{borderLeft:"1px solid ".concat(Object(f.a)(e.palette.common.white,.8))}),Object(s.a)(t,"& .MuiSvgIcon-root",{marginRight:12}),t),backdropContent:{color:Object(f.a)(e.palette.common.white,.74),"& .form-control":{marginBottom:20,"& label, & .MuiInput-formControl, & .MuiSelect-icon, & .MuiIconButton-root":{color:Object(f.a)(e.palette.common.white,.74)},"& .MuiInput-underline:before, & .MuiInput-underline:after":{borderBottomColor:Object(f.a)(e.palette.common.white,.74)}}},dialogRoot:{position:"relative"},dialogHeader:{backgroundColor:e.palette.primary.main},dialogTitleRoot:{"& .MuiTypography-h6":{fontSize:16,color:e.palette.common.white}},selectBoxRoot:{"&:before, &:after":{display:"none"},"& .MuiSelect-select:focus":{backgroundColor:"transparent"}}}})),Q=[{id:1,label:"Departments"},{id:2,label:"Control Categories"}],U=n.a.forwardRef((function(e,t){return n.a.createElement(p.a,Object.assign({ref:t},e,{unmountOnExit:!0}))})),X=function(e){var t=e.onCloseDialog,a=e.openDialog,l=e.currentFilter,r=e.risks,i=q();return n.a.createElement(g.a,{open:a,fullWidth:!0,maxWidth:"lg",onClose:t,scroll:"paper",TransitionComponent:U},n.a.createElement("div",{className:i.dialogHeader},n.a.createElement(h.a,{className:i.dialogTitleRoot},"Risks by ",l)),n.a.createElement(E.a,{style:{marginTop:10}},n.a.createElement(o.a,{sx:{width:"100%"}},n.a.createElement(G,{risks:r})),n.a.createElement(o.a,{display:"flex",justifyContent:"flex-end",mb:4},n.a.createElement(b.a,{onClick:t,size:"small"},"Cancel"))))},Z=function(){var e=Object(l.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],i=Object(l.useState)([]),o=Object(m.a)(i,2),s=o[0],d=o[1],p=Object(l.useState)([]),g=Object(m.a)(p,2),h=g[0],E=g[1],b=Object(l.useState)([]),f=Object(m.a)(b,2),w=f[0],F=f[1],y=Object(l.useState)(Q),S=Object(m.a)(y,2),C=S[0],v=(S[1],Object(l.useState)({id:"",name:""})),k=Object(m.a)(v,2),O=k[0],x=k[1],j=Object(l.useState)([]),R=Object(m.a)(j,2),H=R[0],W=R[1],A=Object(l.useState)(C[0].label),D=Object(m.a)(A,2),M=D[0],T=D[1],B=Object(l.useState)(!1),N=Object(m.a)(B,2),z=N[0],P=N[1],V=q();return Object(l.useEffect)((function(){W(z?J.i:[])}),[z]),Object(l.useEffect)((function(){M===C[0].label?""!==O.id&&""!==O.name?r(I.u):(r(I.d),E(I.l),d(I.q),F(I.o)):M===C[1].label&&(r(I.c),E(I.k),d(I.r),F(I.p))}),[M,O]),n.a.createElement(n.a.Fragment,null,n.a.createElement(c.a,null,n.a.createElement(u.a,{item:!0,xs:12,md:12},n.a.createElement(L,{data:a,classes:V,filters:C,currentFilter:M,setCurrentFilter:T,department:O,setDepartment:x,setOpenDialog:P})),n.a.createElement(u.a,{item:!0,xs:12,md:12},n.a.createElement(Y.a,{data:s,lossTypeData:h,classes:V,currentFilter:M,setCurrentFilter:T,filters:C})),n.a.createElement(u.a,{item:!0,xs:12,md:12},n.a.createElement(_.a,{data:w,classes:V,currentFilter:M,setCurrentFilter:T,filters:C}))),n.a.createElement(X,{currentFilter:M,openDialog:z,onCloseDialog:function(){P(!1)},risks:H}))},$=a(1800),ee=[{label:i.a.DASHBOARD,link:"/"},{label:i.a.ASSESSMENT_DASHBOARD,isActive:!0}];t.default=function(){return n.a.createElement(r.a,{heading:i.a.ASSESSMENT_DASHBOARD,breadcrumbs:ee},n.a.createElement($.b,null),n.a.createElement(o.a,{mt:3},n.a.createElement(Z,null)))}}}]);
//# sourceMappingURL=21.6ed1672c.chunk.js.map